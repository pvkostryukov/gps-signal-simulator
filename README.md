# GPS Signal Simulator

GPS-симулятор транспортного средства с генерацией NMEA сообщений согласно техническому заданию.

## Описание

Программа имитирует движение автомобиля и генерирует стандартные NMEA сообщения (GGA и VTG) с частотой 10 Гц. 

### Технические характеристики

- **Угол руля**: -600...+600 градусов
- **Скорость**: 0-30 км/ч  
- **База колес**: 2 метра
- **Дискретность обновления**: 100 мс
- **Частота вывода NMEA**: 10 Гц
- **Начальные координаты**: 53.262778°N, 50.372778°E

### Возможности

- Симуляция движения поворота
- Генерация NMEA сообщений GGA и VTG с контрольными суммами
- Интерактивное управление через командную строку

### Математическая модель

Симулятор использует модель поворота Аккермана:
- **Радиус поворота**: R = L / tan(δ), где L - расстояние между осями (база колес), δ - угол поворота колес, связанного с углом руля передаточным отношением
- **Передаточное отношение руля**: 15:1 
- **Угловая скорость**: постоянная и равна ω = v / R


## Установка и запуск

### Требования
- Python 3.6+
- Стандартные библиотеки Python (math, time, threading, datetime)

### Запуск
```bash
python3 gps_signal_simulator.py
```

## Использование

### Команды в интерактивном режиме:
```
start             - запустить симулятор
stop              - остановить симулятор  
speed <0-30>      - установить скорость (км/ч)
angle <-600..600> - установить угол руля (градусы)
reset             - сброс к исходным настройкам
status            - показать текущее состояние
quit              - выход из программы
```

### Пример использования:
```
> speed 15
Скорость установлена: 15 км/ч

> angle 30  
Угол руля установлен: 30°

> start
GPS-симулятор запущен
Дискретность: 100 мс, Вывод: 10 Гц

$GPGGA,123045.123,5315.766668,N,05022.366668,E,1,01,1.0,45.0,M,0.0,M,,*XX
$GPVTG,0.0,T,,M,8.1,N,15.0,K,A*XX
```

### Программное использование:
```python
from gps_signal_simulator import GPSSimulator

# Создание симулятора
simulator = GPSSimulator()

# Настройка параметров
simulator.set_speed(20)  # 20 км/ч
simulator.set_steering_angle(45)  # поворот на 45 градусов

# Запуск симуляции
simulator.start()

# Проверка состояния
simulator.get_status()

# Остановка
simulator.stop()
```

## Генерируемые NMEA сообщения

### GGA (Global Positioning System Fix Data)
Содержит координаты, время UTC и информацию о качестве сигнала:
```
$GPGGA,HHMMSS.SSS,DDMM.MMMM,N/S,DDDMM.MMMM,E/W,1,01,1.0,45.0,M,0.0,M,,*XX
```

**Расшифровка полей GGA:**
- `$GPGGA` - Идентификатор сообщения
- `HHMMSS.SSS` - Время UTC в формате часы:минуты:секунды.миллисекунды
- `DDMM.MMMM` - Широта в формате градусы:минуты.доли_минут
- `N/S` - Направление широты (N=север, S=юг)
- `DDDMM.MMMM` - Долгота в формате градусы:минуты.доли_минут  
- `E/W` - Направление долготы (E=восток, W=запад)
- `1` - Качество сигнала (0=нет, 1=GPS, 2=DGPS)
- `01` - Количество используемых спутников
- `1.0` - Горизонтальная точность (HDOP)
- `45.0` - Высота над уровнем моря, метры
- `M` - Единица измерения высоты (M=метры)
- `0.0` - Высота геоида, метры
- `M` - Единица измерения геоида (M=метры)
- `` - Время с последнего DGPS обновления (пусто)
- `` - ID станции DGPS (пусто)
- `*XX` - Контрольная сумма

**Пример:**
```
$GPGGA,123045.123,5315.7667,N,05022.3667,E,1,01,1.0,45.0,M,0.0,M,,*6A
```

### VTG (Track Made Good and Ground Speed)
Содержит курс и скорость движения:
```
$GPVTG,XXX.X,T,,M,XX.X,N,XX.X,K,A*XX
```

**Расшифровка полей VTG:**
- `$GPVTG` - Идентификатор сообщения
- `XXX.X` - Курс относительно истинного севера, градусы
- `T` - Индикатор истинного севера (T=True)
- `` - Курс относительно магнитного севера (не используется)
- `M` - Индикатор магнитного севера (M=Magnetic)
- `XX.X` - Скорость в узлах
- `N` - Единица измерения скорости (N=узлы)
- `XX.X` - Скорость в км/ч
- `K` - Единица измерения скорости (K=км/ч)
- `A` - Режим индикатора (A=автономный, D=дифференциальный, N=недостоверно)
- `*XX` - Контрольная сумма

**Пример:**
```
$GPVTG,045.5,T,,M,8.1,N,15.0,K,A*2C
```
Означает: курс 45.5°, скорость 8.1 узлов (15.0 км/ч)


## Лицензия

MIT License

## Автор

[Павел Кострюков]